(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();function u(s,i,r){return`${s.substring(0,i)}${r}${s.substring(i+1)}`}function a(s){let i;try{[,i]=s.match(/^\((.*)\)$/)}catch{throw new Error("Invalid input")}const r=[],n={x:0,y:0},e={};for(let t=0;t<i.length;t++){let o=i[t];if(o==="(")n.x++;else if(o===")")n.x--;else if(o!==" "){for(;!Number.isNaN(parseInt(i[t+1],10));)t++,o=`${o}${i[t]}`;r.push({value:parseInt(o,10),x:n.x,y:n.y}),e[n.x]===void 0?e[n.x]=o.length:e[n.x]=Math.max(e[n.x],o.length)}}return{tree:r,offsets:e}}function d(s,i){const r=[""];for(let n=0;n<s.length;n++){const e=s[n];let t=e.x*4;Object.entries(i).forEach(([l,c])=>{c>1&&parseInt(l,10)<e.x&&(t+=c-1)}),r[r.length-1]+=Array(t).fill(" ").join(""),r[r.length-1]+=`${e.value}`,s[n+1]&&s[n+1].x>e.x&&(r[r.length-1]+=Array(i[e.x]+3-e.value.toString().length).fill("-").join(""),r[r.length-1]+="+");const o=s.findIndex(l=>l.x===e.x);if(o!==-1){const l=t;let c=o+1;for(;c<n;)r[c][l]===" "&&(r[c]=u(r[c],l,"|")),c++}r.push("")}return r.join(`
`)}const f=document.querySelector("#tree-form");if(!f)throw new Error("Form not found");f.addEventListener("submit",s=>{s.preventDefault();const i=f.querySelector("#tree-data");if(!i)throw new Error("Input not found");const r=i.value.trim();if(!r)throw new Error("Tree not found");const{tree:n,offsets:e}=a(r),t=d(n,e),o=document.querySelector("#tree-container");if(!o)throw new Error("Container not found");const l=o.parentElement;l&&(l.style.height=`${l.clientHeight}px`),o.innerHTML=t,l&&(l.style.height=`${o.clientHeight}px`)});
